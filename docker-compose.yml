version: '3.8'

services:
  sp-cli-dev:
    build: .
    container_name: signalpilot-cli-dev
    ports:
      - "9999:9999"  # Forward Jupyter Lab port
    volumes:
      - .:/app/sp-cli  # Mount source code for live development
      - sp-home:/root/SignalPilotHome  # Persist SignalPilot home
      - workspace:/workspace  # Persist workspace
    environment:
      - JUPYTER_PORT=9999
    stdin_open: true
    tty: true
    working_dir: /workspace/test-project

volumes:
  sp-home:
  workspace:
